import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class del extends JFrame implements ActionListener{
	public del() {}
	
	private JPanel panel_del;

	JTextField textField;//이름
	JTextField textField_1;//가격
	JButton btnNewButton;//등록버튼
	JButton btnNewButton_1;//삭제버튼
	
   public void createD_1() {
	  
	   panel_del = new JPanel();
	   panel_del.setLayout(null);
	   panel_del.setBounds(0, 0, 500, 500);
	   getContentPane().add(panel_del);

	   
	   this.setTitle("물품 삭제");
	   
	   //이름
	   JLabel lblNewLabel = new JLabel("이름");
	   lblNewLabel.setBounds(12, 54, 62, 28);
	   panel_del.add(lblNewLabel);
	   
	   textField = new JTextField();
	   textField.setBounds(71, 58, 116, 21);
	   panel_del.add(textField);
	   textField.setColumns(10);
	      
	      
	   //가격
	   JLabel label = new JLabel("가격");
	   label.setBounds(12, 115, 57, 15);
	   panel_del.add(label);
	   
	   textField_1 = new JTextField();
	   textField_1.setBounds(71, 112, 116, 21);
	   panel_del.add(textField_1);
	   textField_1.setColumns(10);
	   
	   //등록버튼
	   btnNewButton = new JButton("등록");
	   btnNewButton.setBounds(130, 289, 97, 23);
	   btnNewButton.addActionListener(this);
	   panel_del.add(btnNewButton);
	     
	   //등록버튼 감지기
	   btnNewButton.addActionListener(this);
	   
	   //삭제버튼
	   btnNewButton = new JButton("삭제");
	   btnNewButton.setBounds(130, 110, 97, 23);
	   btnNewButton.addActionListener(this);
	   panel_del.add(btnNewButton);
	     
	   //등록버튼 감지기
	   btnNewButton_1.addActionListener(this);
	   
	   setVisible(true);
	   setSize(280, 380);

	   }
	
	@Override
	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub
		if(e.getSource() == btnNewButton){
			//창닫기 및 정보전달
			DTO dto=getViewData();
			DAO dao = new DAO();
			boolean ok = dao.update(dto);
			
			if(ok){
				JOptionPane.showMessageDialog(this, "확인되었습니다");
				this.dispose();
			}else{
				JOptionPane.showMessageDialog(this, "확인 실패");
			}
		}
	}
   
	
	public DTO getViewData(){
		DTO dto = new DTO();
		String name = textField.getText();
		String price = textField_1.getText();

		
		//dto에 담음
		dto.setname(name);
		dto.setprice(price);
		
		return dto;
	}
	
}